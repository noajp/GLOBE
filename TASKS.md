# GLOBE - フォロー機能と投稿スタイル実装タスク

## 📋 実装タスク一覧

### 1. 投稿スタイルの分離
- [ ] 匿名投稿と公開投稿の分離（`is_anonymous`フラグの活用）
- [ ] 投稿作成画面に投稿スタイル選択UI追加（>ボタン）
- [ ] 公開投稿時にアイコン表示機能の実装
- [ ] PostPinでの投稿スタイルに応じた表示切り替え

### 2. プロフィール画面の改善
- [ ] プロフィール画面をInstagram風のグリッドレイアウトに変更
- [ ] 写真投稿のみを表示（テキストのみ投稿は非表示）
- [ ] グリッド表示の実装（3列レイアウト）
- [ ] 写真タップで詳細表示

### 3. フォロー/フォロワー機能
- [ ] フォローボタンの実装
- [ ] フォロー/フォロワー数の表示
- [ ] フォロー/フォロワーリスト画面の作成
- [ ] フォロー状態の管理
- [ ] followsテーブルとの連携確認

### 4. データベース確認
- [ ] `is_anonymous`カラムの状態確認
- [ ] `follows`テーブルの構造確認
- [ ] プロフィール画像取得の実装

---

## 🎯 実装優先順位

1. **Phase 1**: 投稿スタイル選択UI（匿名 vs 公開）
2. **Phase 2**: プロフィール画面のInstagram風グリッド表示
3. **Phase 3**: フォロー/フォロワー機能

---

## 📝 技術メモ

### 投稿スタイル
- `is_anonymous = true`: 匿名投稿（現在の仕様）
- `is_anonymous = false`: 公開投稿（アイコン＋名前表示）

### プロフィール画面
- グリッドレイアウト: `LazyVGrid` with 3 columns
- 写真のみフィルター: `posts.filter { $0.imageUrl != nil }`
- アスペクト比: 1:1（正方形）

### フォロー機能
- テーブル: `follows (id, follower_id, following_id, created_at)`
- API: SupabaseService経由でCRUD操作
- UI: プロフィール画面にフォローボタン配置
